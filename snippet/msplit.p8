pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
--msplit
--v0.2
--@shiftalow / bitchunk

--[[
	- msplit         				-- converts a string into a table by splitting it with multiple delimiters.
	- @param  string s   -- string to be split.
	- @param  any    d   -- delimiter of division.
	- @param  any    ... -- next delimiter after splitting.
	- @return table      -- table partitioned from string.
	- @description
		-- the default delimiter is " " for ease of data entry and readability. (according to one's own preference).
		-- the default delimiters and numeric conversion flags should be modified according to your project.
]]--

function msplit(s,d,...)
	local t=split(s,d or ' ',false)
	for i,v in pairs(... and t) do
		t[i]=msplit(v,...)
	end
	return t
end

----

cls()
?'** [msplit] string splitting **',7

local value=msplit'1 2 3 4 5'

for i,v in pairs(value) do
	?v,i*16,24-i,6
end
?'\#b(type is ['..type(value[1])..'])',48,30,3

?'--** double split **--',8,42,7
local value
						=msplit(
							'10-yellow 11-green 8-red 12-blue'
							,' ','-'
						)
for i,v in pairs(value) do
	local col,name=unpack(v)
	?name,i*32-24,48,col
end

?'--** triple split **--',8,64,7
local value
						=msplit(
							'1048185007204a28520c3054386a0a406070680f'
							,20,10,2
						)
for c,r in pairs(value) do
	for b,t in pairs(r) do
		for i,v in pairs(t) do
			-- convert hexadecimal numbers
			t[i]=tonum('0x'..v)
		end
		local x,y,w,h,p=unpack(t)
		rectfill(x,y,w,h,p)
	end
end

-->8
--[[
update history
**v0.2**
- do multidimensional checks on pairs arguments.
**v0.1**
- first release.
]]--

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
70707070000077007770077077707000777077700770000007707770777077707700077000000770777070007770777077707770770007700000707070700000
07000700000070007770700070707000070007000070000070000700707007007070700000007000707070000700070007000700707070000000070007000000
77707770000070007070777077707000070007000070000077700700770007007070700000007770777070000700070007000700707070000000777077700000
07000700000070007070007070007000070007000070000000700700707007007070707000000070700070000700070007000700707070700000070007000000
70707070000077007070770070007770777007000770000077000700707077707070777000007700700077707770070007007770707077700000707070700000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000666000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000006060000000000000600000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000066600000000000006060000000000000666000000000000000000000000000000000000000000000
00000000000000000000000000000000666000000000000000600000000000006660000000000000006000000000000000000000000000000000000000000000
00000000000000006600000000000000006000000000000006600000000000000060000000000000666000000000000000000000000000000000000000000000
00000000000000000600000000000000666000000000000000600000000000000060000000000000000000000000000000000000000000000000000000000000
00000000000000000600000000000000600000000000000066600000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000600000000000000666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000
00000000000000000000000000000000000000000000000bb3bb333b3b3b333b333bbbbb333bb33bbbbb33bbb33b333b333b333b33bbb33bb33bb3bb00000000
00000000000000000000000000000000000000000000000b3bbbb3bb3b3b3b3b3bbbbbbbb3bb3bbbbbbb3bbb3bbbb3bb3b3bb3bb3b3b3bbbbb3bbb3b00000000
00000000000000000000000000000000000000000000000b3bbbb3bb333b333b33bbbbbbb3bb333bbbbb3bbb333bb3bb33bbb3bb3b3b3bbbbb3bbb3b00000000
00000000000000000000000000000000000000000000000b3bbbb3bbbb3b3bbb3bbbbbbbb3bbbb3bbbbb3bbbbb3bb3bb3b3bb3bb3b3b3b3bbb3bbb3b00000000
00000000000000000000000000000000000000000000000bb3bbb3bb333b3bbb333bbbbb333b33bbbbbb33bb33bbb3bb3b3b333b3b3b333bb33bb3bb00000000
00000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007070707000007700077070707770700077700000077077707000777077700000707070700000000000000000000000000000000000000000
00000000000000000700070000007070707070707070700070000000700070707000070007000000070007000000000000000000000000000000000000000000
00000000777077707770777000007070707070707700700077000000777077707000070007000000777077707770777000000000000000000000000000000000
00000000000000000700070000007070707070707070700070000000007070007000070007000000070007000000000000000000000000000000000000000000
00000000000000007070707000007770770007707770777077700000770070007770777007000000707070700000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000a0a0aaa0a000a0000aa0a0a0000000000bb0bbb0bbb0bbb0bb0000000000000088808880880000000000000000000000ccc0c000c0c0ccc000000000
00000000a0a0a000a000a000a0a0a0a000000000b000b0b0b000b000b0b000000000000080808000808000000000000000000000c0c0c000c0c0c00000000000
00000000aaa0aa00a000a000a0a0a0a000000000b000bb00bb00bb00b0b000000000000088008800808000000000000000000000cc00c000c0c0cc0000000000
0000000000a0a000a000a000a0a0aaa000000000b0b0b0b0b000b000b0b000000000000080808000808000000000000000000000c0c0c000c0c0c00000000000
00000000aaa0aaa0aaa0aaa0aa00aaa000000000bbb0b0b0bbb0bbb0b0b000000000000080808880888000000000000000000000ccc0ccc00cc0ccc000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007070707000007770777077707770700077700000077077707000777077700000707070700000000000000000000000000000000000000000
00000000000000000700070000000700707007007070700070000000700070707000070007000000070007000000000000000000000000000000000000000000
00000000777077707770777000000700770007007770700077000000777077707000070007000000777077707770777000000000000000000000000000000000
00000000000000000700070000000700707007007000700070000000007070007000070007000000070007000000000000000000000000000000000000000000
00000000000000007070707000000700707077707000777077700000770070007770777007000000707070700000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000000000007777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000007777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777770000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa0000000fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000aaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

